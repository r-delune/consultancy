---
import Icons from './Icons.astro';

const serviceCategories = {
  consultancy: {
    title: "Consultancy",
    icon: "shield",
    description: "Expert guidance for your toughest challenges",
    services: [
      {
        name: "Code Auditing",
        desc: "Verify your code upholds best practices. Architecture review for scalability.",
      },
      { 
        name: "Privacy & Compliance", 
        desc: "GDPR implementation, data governance, security audits" 
      },
      { 
        name: "Medical Software", 
        desc: "SaMD classification, ISO 62304, QMS setup, MDR compliance" 
      },
    ],
  },
  development: {
    title: "Software Engineering",
    icon: "code",
    description: "Full-stack development with modern technologies",
    services: [
      { 
        name: "Web Design & SEO", 
        desc: "Lightning-fast landing pages, Core Web Vitals optimization" 
      },
      { 
        name: "Frontend Development", 
        desc: "React, Vue, Astro, TypeScript, interactive experiences" 
      },
      { 
        name: "Backend Development", 
        desc: "Laravel, Node.js, API design, microservices architecture" 
      },
      { 
        name: "DevOps & Cloud", 
        desc: "Docker, AWS/ECS, CI/CD pipelines, infrastructure as code" 
      },
    ],
  },
  startup: {
    title: "Startup Guidance",
    icon: "rocket",
    description: "From idea to scale - we've got you covered",
    services: [
      { 
        name: "MVP Development", 
        desc: "Rapid prototyping, lean methodology, quick market validation" 
      },
      {
        name: "Cost & Risk Assessment",
        desc: "Budget planning, technical debt management, risk mitigation",
      },
      { 
        name: "Hiring & Team Building", 
        desc: "Technical interviews, team structure, culture building" 
      },
      { 
        name: "Scaling Strategy", 
        desc: "Architecture planning, performance optimization, growth roadmap" 
      },
    ],
  },
};
---

<section id="services" class="py-24 relative">
  <div class="container mx-auto px-6">
    <!-- Section Header -->
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-bold text-light mb-4">
        How We Can 
        <span class="bg-gradient-to-r from-primary-400 to-accent-400 bg-clip-text text-transparent">
          Help You
        </span>
      </h2>
      <p class="text-xl text-light/60 max-w-2xl mx-auto">
        Comprehensive software solutions tailored to your needs
      </p>
    </div>

    <!-- Service Categories Grid -->
    <div class="grid md:grid-cols-3 gap-8">
      {Object.entries(serviceCategories).map(([key, category]) => (
        <div class="group relative">
          <!-- Card -->
          <div class="bg-gradient-to-br from-primary-950/50 to-primary-900/30 rounded-xl border border-primary-800/30 p-8 hover:border-primary-600/50 transition-all hover:shadow-xl hover:shadow-primary-500/10">
            <!-- Icon -->
            <div class="w-14 h-14 bg-gradient-to-br from-primary-500 to-accent-500 rounded-lg flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
              <Icons name={category.icon} size={28} class="text-white" />
            </div>

            <!-- Title -->
            <h3 class="text-2xl font-bold text-light mb-3">{category.title}</h3>
            <p class="text-light/60 mb-6">{category.description}</p>

            <!-- Services List -->
            <div class="space-y-4">
              {category.services.map((service) => (
                <details class="group/item">
                  <summary class="cursor-pointer list-none flex items-start space-x-3 text-light/80 hover:text-primary-400 transition-colors">
                    <Icons name="check" size={16} class="text-accent-400 mt-1 flex-shrink-0" />
                    <span class="font-medium">{service.name}</span>
                  </summary>
                  <p class="ml-7 mt-2 text-sm text-light/60 animate-slide-up">
                    {service.desc}
                  </p>
                </details>
              ))}
            </div>

            <!-- CTA -->
            <a href="#contact" class="inline-flex items-center space-x-2 text-primary-400 hover:text-primary-300 mt-6 group/link">
              <span class="text-sm font-medium">Learn more</span>
              <Icons name="arrow" size={16} class="group-hover/link:translate-x-1 transition-transform" />
            </a>
          </div>

          <!-- Hover Glow Effect -->
          <div class="absolute -inset-0.5 bg-gradient-to-r from-primary-500 to-accent-500 rounded-xl opacity-0 group-hover:opacity-20 blur transition-opacity -z-10"></div>
        </div>
      ))}
    </div>

    <!-- Bottom CTA -->
    <div class="text-center mt-16">
      <p class="text-light/60 mb-4">Not sure what you need?</p>
      <a href="#contact" class="inline-flex items-center space-x-2 bg-gradient-to-r from-primary-500 to-accent-500 text-white px-6 py-3 rounded-lg hover:shadow-lg hover:shadow-primary-500/25 transition-all">
        <Icons name="calendar" size={20} />
        <span>Schedule a Free Consultation</span>
      </a>
    </div>
  </div>
</section>